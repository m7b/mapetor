#https://github.com/ainfosec/ci_helloworld

#
# Configuration
#
language: cpp
dist: xenial

#
# Build Dependencies
#
before_script:
- mkdir build
- cd build

#
# Build Matrix
#
matrix:
  include:

  #
  # Build Release
  #
  - os: linux
    env:
      - TEST="Build Release"

    addons:
      apt:
        sources:
          - ubuntu-toolchain-r-test
        packages:
          #- libboost-all-dev
          - libwxgtk3.0-dev

    compiler: gcc

    before_install:
      # Install a supported cmake version (>= 3.4.3)
      - wget -O boost.tar.bz2 https://sourceforge.net/projects/boost/files/boost/1.70.0/boost_1_70_0.tar.bz2/download
      - tar xjf boost.tar.bz2
      - ls
      - cd boost_1_70_0
      - sudo ./bootstrap.sh
      - sudo ./b2 headers
      - sudo ./b2 cxxflags=-std=gnu++17 --with-filesystem --with-date_time --with-test
      - cd ..
    
    script:
      - cmake -DCMAKE_BUILD_TYPE=Release ..
      - make
