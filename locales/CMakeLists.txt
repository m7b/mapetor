# generate .mo from .po (on change)
FIND_PROGRAM(MSGFMT_EXECUTABLE msgfmt)
SET(LOCALES_DIR ${CMAKE_CURRENT_SOURCE_DIR}/)
ADD_CUSTOM_COMMAND(
	OUTPUT ${LOCALES_DIR}/de_DE.mo
	COMMAND ${MSGFMT_EXECUTABLE} ${LOCALES_DIR}/de_DE.po -o ${LOCALES_DIR}/de_DE.mo
	DEPENDS ${LOCALES_DIR}/de_DE.po
)
ADD_CUSTOM_TARGET(
	locales
	DEPENDS ${LOCALES_DIR}/de_DE.mo
	COMMENT "Create translation binaries (MO files)"
)
#SET_PROPERTY(SOURCE ${LOCALES_DIR}/../res/resource.rc APPEND PROPERTY OBJECT_DEPENDS ${LOCALES_DIR}/de_DE.mo)